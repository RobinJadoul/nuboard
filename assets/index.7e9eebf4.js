import{k as t,m as e,p as n,S as r,i as s,s as a,e as i,c as o,a as c,d as l,b as f,n as u,f as d,g as p,h,D as g,W as m,I as y,j as x,E as $,y as w,l as _,o as v,u as k,r as b,q as M,t as L,v as D,w as T,x as A,z as E,A as O,B,C as S,F as j,G as q}from"./vendor.ff977e58.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),"use-credentials"===t.crossorigin?e.credentials="include":"anonymous"===t.crossorigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const z=[{left:"$$",right:"$$",display:!0,keep:!1},{left:"$",right:"$",display:!1,keep:!1},{left:"\\(",right:"\\)",display:!1,keep:!1},{left:"\\[",right:"\\]",display:!0,keep:!1}].concat(["matrix","pmatrix","vmatrix","Bmatrix","cases","smallmatrix","array","bmatrix","Vmatrix","rcases","subarray","equation","split","gather","CD","align","alignat","darray","dcases","drcases","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*","equation*","gather*","align*","alignat*"].map((t=>({left:`\\begin{${t}}`,right:`\\end{${t}}`,display:!0,keep:!0}))));function C(e,n){return t.renderToString(e,{throwOnError:!1,displayMode:n})}function H(e){let n="",r=[];for(const a of function(t,e){const n=[],r=function(t,e,n){let r=n,s=0;for(;r<e.length;){const n=e[r];if(s<=0&&e.slice(r,r+t.right.length)===t.right)return r+t.right.length;"\\"===n?r++:"{"===n?s++:"}"===n?s--:e.slice(r,r+t.left.length)==t.left?(s++,r+=t.left.length-1):e.slice(r,r+t.right.length)==t.right&&(s--,r+=t.right.length-1),r++}return-1};function s(t){""!==t&&(n.length>0&&"text"===n[n.length-1].type?n[n.length-1].data+=t:n.push({type:"text",data:t}))}function a(t,e){const r=t;e.keep||(t=(t=t.slice(e.left.length)).slice(0,t.length-e.right.length)),n.push({type:"math",rawData:r,data:t,display:e.display})}function i(t,n){let r={delim:null,start:1/0};for(const s of e){const e=t.indexOf(s.left,n);-1!==e&&e<r.start&&(r={delim:s,start:e})}return r}let o=0;for(;o<t.length;){const{delim:e,start:n}=i(t,o);if(null===e){s(t.slice(o));break}{const i=r(e,t,n+e.left.length);if(-1===i){s(t.slice(o));break}s(t.slice(o,n)),a(t.slice(n,i),e),o=i}}return n}(e,z))if("text"===a.type)n+=a.data;else if("math"===a.type){const{data:e,display:i,rawData:o}=a;try{const t=C(e,i);n+="<span>\x3c!--___MATH_BLOCK___--\x3e</span>",r.push(t)}catch(s){if(!(s instanceof t.ParseError))throw s;n+="<span>\x3c!--___MATH_BLOCK___--\x3e</span>",r.push(o)}}else console.warn("Unknown splitAtDelimiters type while rendering math");return{text:n,mathblocks:r}}function I(t,n){return e.parse(t,{silent:!0,smartLists:!0}).replaceAll("<span>\x3c!--___MATH_BLOCK___--\x3e</span>",(()=>n.splice(0,1)))}var V={render:function(t){if(!t)return"";const{text:e,mathblocks:r}=H(t),s=I(e,r);return a=s,n.sanitize(a);var a},renderMath:H,renderMarkdown:I};function K(t){let e,n=V.render(t[0])+"";return{c(){e=i("div")},l(t){e=o(t,"DIV",{}),c(e).forEach(l)},m(t,r){f(t,e,r),e.innerHTML=n},p(t,[r]){1&r&&n!==(n=V.render(t[0])+"")&&(e.innerHTML=n)},i:u,o:u,d(t){t&&l(e)}}}function N(t,e,n){let{content:r}=e;return t.$$set=t=>{"content"in t&&n(0,r=t.content)},[r]}class F extends r{constructor(t){super(),s(this,t,N,K,a,{content:0})}}function P(t){d(t,"svelte-6nm8j0","div.editor.svelte-6nm8j0{font-family:monospace;font-size:14px;background-color:lightgrey}")}function G(t){let e;return{c(){e=i("div"),this.h()},l(t){e=o(t,"DIV",{class:!0}),c(e).forEach(l),this.h()},h(){p(e,"class","editor svelte-6nm8j0")},m(n,r){f(n,e,r),t[1](e)},p:u,i:u,o:u,d(n){n&&l(e),t[1](null)}}}function U(t,e,n){const r=h(),s=new g,a=s.getXmlFragment("prosemirror");new m("nuboard-stuff",s),new y("nuboard-stuff",s);const i=new x({nodes:{doc:{content:"wrapper"},wrapper:{content:"text*",code:!0,whitespace:"pre",toDOM:()=>["div",0]},text:{code:!0}}});let o,c;const l=$.create({schema:i,plugins:[w(a),_(),v({Enter:(t,e)=>{e&&e(t.tr.insertText("\n").scrollIntoView())},"Mod-z":k,"Mod-y":b,"Mod-Shift-z":b})]});function f(t){r("update",{value:t})}return M((()=>{o=new L(c,{state:l,dispatchTransaction(t){o.updateState(o.state.apply(t)),o.state.doc.content.content[0].content.content.length>0?f(o.state.doc.content.content[0].content.content[0].text):f("")}})})),[c,function(t){D[t?"unshift":"push"]((()=>{c=t,n(0,c)}))}]}class W extends r{constructor(t){super(),s(this,t,U,G,a,{},P)}}function X(t){let e,n,r,s;return e=new F({props:{content:t[0]}}),r=new W({}),r.$on("update",t[1]),{c(){T(e.$$.fragment),n=A(),T(r.$$.fragment)},l(t){E(e.$$.fragment,t),n=O(t),E(r.$$.fragment,t)},m(t,a){B(e,t,a),f(t,n,a),B(r,t,a),s=!0},p(t,[n]){const r={};1&n&&(r.content=t[0]),e.$set(r)},i(t){s||(S(e.$$.fragment,t),S(r.$$.fragment,t),s=!0)},o(t){j(e.$$.fragment,t),j(r.$$.fragment,t),s=!1},d(t){q(e,t),t&&l(n),q(r,t)}}}function J(t,e,n){let r;return[r,function(t){n(0,r=t.detail.value)}]}new class extends r{constructor(t){super(),s(this,t,J,X,a,{})}}({target:document.querySelector("#app"),hydrate:!0});
